# DeathSwap
Recreation of a popular YouTube Minecraft minigame Death Swap. Customizable.

## COMING SOON
Stay in touch by following me or by watching this repository (need a GitHub account for this). This repository is going to be filled with some code soon. Below informations are a technical concept for this plugin.

## What is it about?
You may be already familiar with a trend of Minecraft youtubers playing minigame called "Death Swap", right? It originally started in vanilla Minecraft using command block machines generated from a one block command block (a command block with a single command), some time about 5 years ago. It's then been developed into a Minecraft mod and Bukkit plugin countless times. I decided to code myself my own version, with 4 different languages. It's definitely not necessary, but having a fully customizable Death Swap minigame, including language, is actually neat.

## Game principle
For those who don't know what Death Swap is. It's a PVP duel minigame, but without any PVP mechanics. The goal of this game is to kill the other player with non-PVP means by posing yourself into an environmental danger. Every single non-PVP death counts. For best results and safety it's recommended to turn PVP off and set KeepInventory to true on every single world. Since this is a Spigot plugin, you need to set KeepInventory to true on all 3 worlds (overworld, nether and end) separately. If one of the players dies, the game ends and a winner is announced, while both parties are teleported back to spawn. If both players die at the same time, whoever comes in chat first, is deemed winner.

## Commands
Right now, I am thinking of ? basic commands. The base command is `/deathswap`, or an alias `/ds`. Those subcommands are:
- `/ds register <player>`: To register a player into the game. In order to start the game, it needs 2 players. No more, no less. The command prevents more than 2 players from being registered. Any player that's not registered will enter a spectator mode forcefully upon the game start. Plugin only remembers registered players in a current session.
- `/ds unregister <player>`: Removes a player from registered players.
- `/ds start`: Starts the countdown of 10 seconds until the game begins. When countdown starts, any unregistered player is moved into spectator mode, and once the game starts, both registered players are randomly teleported far away of each other into opposite directions. The game cannot starts if there are less than 2 players registered.
- `/ds stop`: Forcefully stops the game. Any player in spectator mode stays in spectator mode, and game won't have a winner. It can also be used to stop and reset the countdown into game beginning, if one of the party isn't ready. Stopping the game in the middle teleports both parties to the spawn.
- `/ds reload`: Reloads the minigame configuration. That configuration is described in `src/main/resources/config.yml`, which also poses as a default config, there's no way to edit configuration from the game. This plugin is designed to be configured and used in a private server. Command refuses to reload config in the middle of an ongoing game. To reload config mid-game, you need to stop the game and start it again. This has technical reason, and that is to keep consistency.

## Usage
The plugin is intended to be used standalone in a private Minecraft Spigot-compatible server. It's not intended to be used in a public minigame network server, but certainly could be used, although you won't have access to some informations about ongoing games. You're however free to modify the source code of this plugin to your needs, so you could certainly add yourself some support for minigame lobby query system of your choice. If you decide to download the executable JAR of this plugin to play with your friend(s), place it in your `plugins` folder of your private Minecraft server and restart your server. You may modify the config to your needs (don't worry, it's well documented with included comments), and then reload the config using a command (see above), you don't need to restart the server to modify config. You will however need to stop an ongoing game before reloading config. After you're satisfied with your reloaded config changes, then you can invite your friend, send them your server's IP address and play together. For best security, it's adviced to set up a whitelist, so you have full privacy. If you restart your server, it doesn't retain any information about registered players. This is convenient for content creators who can simply start a server, clear whitelist and invite new player in each session. After a session ends, server may be shut down. This plugin has no control over whitelist contents, so it's compatible with any whitelist and auth plugin you decide to use. If a player logs off mid-game, the game ends with no winner and that player is immediately unregistered from the game. That player then needs to be registered again if they log in again. When the game ends, both players stay registered. That allows for multiple rounds of Death Swap in a single session. Hope you will love this game.
